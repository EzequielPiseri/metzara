---
title: "Uso del paquete meteorodata"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Uso del paquete meteorodata}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Introducción

El paquete **`metzara`** permite descargar, leer, analizar y visualizar datos de estaciones meteorológicas de Argentina.\
En esta viñeta se muestra cómo utilizar sus funciones principales:

-   `leer_estacion()`: descarga y lee los datos de una estación específica.\
-   `tabla_resumen_temperatura()`: genera un resumen estadístico de la temperatura por estación.\
-   `grafico_temperatura_mensual()`: crea un gráfico del promedio mensual de temperatura para una o varias estaciones.

------------------------------------------------------------------------

## 1. Cargar el paquete

```{r setup}
library(metzara)
library(dplyr)
library(ggplot2)
library(tidyverse)
```

------------------------------------------------------------------------

## 2. Lectura de datos de una estación

La función `leer_estacion()` descarga los datos de una estación determinada y los guarda localmente en la carpeta `datos/`.\
Luego los lee como un `data.frame` o `tibble`.

```{r}
# Ejemplo: leer la estación NH0472
datos_NH0472 <- leer_estacion("estacion_NH0472", "datos/estacion_NH0472.csv")

# Visualizamos las primeras filas
head(datos_NH0472, 5)
```

------------------------------------------------------------------------

## 3. Generar una tabla resumen de temperatura

La función `tabla_resumen_temperatura()` permite obtener estadísticas básicas (media, desviación estándar, máxima y mínima) de la temperatura de abrigo a 150 cm para una o más estaciones.

```{r}
resumen <- tabla_resumen_temperatura(c("estacion_NH0437", "estacion_NH0472", "estacion_NH0098"))
resumen
```

El resultado está en formato largo (long format), lo que facilita la visualización posterior con `ggplot2`.

------------------------------------------------------------------------

## 4. Generar un gráfico del promedio mensual de temperatura

Podemos unir varios datasets y luego graficar la temperatura promedio mensual usando `grafico_temperatura_mensual()`.

```{r}
# Leemos varias estaciones
todas_las_estaciones <- bind_rows(
  leer_estacion("estacion_NH0437", "datos/estacion_NH0437.csv"),
  leer_estacion("estacion_NH0472", "datos/estacion_NH0472.csv")
)

# Gráfico con colores definidos manualmente
grafico_temperatura_mensual(
  todas_las_estaciones,
  colores = c("tomato", "steelblue"),
  titulo = "Promedio mensual de temperatura"
)
```

O, si preferís que los colores se generen automáticamente:

```{r}
grafico_temperatura_mensual(todas_las_estaciones)
```

------------------------------------------------------------------------

## 5. Conclusión

El paquete `meteorodata` facilita la obtención y análisis de información climática histórica.\
Sus funciones permiten automatizar el proceso de descarga, limpieza y visualización de datos meteorológicos, generando resultados reproducibles y visualmente claros.

------------------------------------------------------------------------

**Autores:**\
*Ezequiel Piseri y Kiara Manacasa*\
**Fecha:** `r Sys.Date()`
